{% extends 'shared/layout.html' %}

{% block extracss %}
<link rel="stylesheet"    href="{{ url_for('static', filename='main/css/chat.css') }}"> 
{% endblock %}

{% block extrajs %}
<script type="text/javascript" src="//code.jquery.com/jquery-1.4.2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.socket.io/3.1.1/socket.io.min.js"></script>
<script src="{{ url_for('static', filename='main/js/chat.js') }}" defer></script>
{% endblock %}


{% block maincontent %}
<!-- The header of the Trello board -->
<header>
    <!-- Navigation bar -->
    <nav>
    <div class="page-name">
        {{ board }} Chat Room
    </div>
    <!-- Div containing buttons of CSS -->
    <div class="buttons">
        <a href="/logout">
            <button class="log-out-button">
                Log Out
            </button>
        </a>
    </div>
    </nav>
</header>

<!-- Main content of the chat page -->
<div class="wrapper">
    <!-- Main content of the chat page -->
    <div class="chat-main">
        <!-- Title for the Chat-->
        <h1 class="chat-title">
            Chat
        </h1>

        <hr>

        <!-- Chat box where messages show up, store the board ID -->
        <div id='chat' data-board-id="{{ board_id }}" contenteditable>    
        </div>

        <!-- User input for chat -->
        <input type="text" class="message-input" id="message-input" placeholder="Enter Your Message Here" title="message-input"/>
        <button class="chat-button" id="send-message">Send Message</button>
        <button class="chat-button" id="leave-room">Leave chat</button>
    </div>
</div>

<div id="current-user-id" data-user-id="{{ current_user_id }}"></div>

{% endblock %}
